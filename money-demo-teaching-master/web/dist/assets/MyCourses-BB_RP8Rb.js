import{_,r as o,j as m,b as f,c as n,w as r,g as p,h,i as c,o as x,d as g}from"./index-9778kytf.js";const v={class:"my-courses"},w={__name:"MyCourses",setup(I){const a=o(!1),s=o([]),d=[{title:"课程名称",dataIndex:"subject_name",width:"30%"},{title:"授课教师",dataIndex:"teacher_name",width:"25%",customRender:({record:e})=>`${e.teacher_name} (${e.teacher_title})`},{title:"学时",dataIndex:"class_hours",width:"20%"},{title:"学分",dataIndex:"credits",width:"25%"}],l=async()=>{a.value=!0;try{const e=localStorage.getItem("userId"),t=await p.get(`/student-courses/${e}`);t.data.success&&(s.value=t.data.data)}catch(e){console.error("获取课程列表失败:",e),h.error("获取课程列表失败")}finally{a.value=!1}};return m(()=>{l()}),(e,t)=>{const u=c("a-table"),i=c("a-card");return x(),f("div",v,[n(i,{bordered:!1},{title:r(()=>t[0]||(t[0]=[g("h2",null,"我的课程",-1)])),default:r(()=>[n(u,{columns:d,"data-source":s.value,loading:a.value,pagination:!1,"row-key":"course_id"},null,8,["data-source","loading"])]),_:1})])}}},b=_(w,[["__scopeId","data-v-eefe5ae0"]]);export{b as default};
